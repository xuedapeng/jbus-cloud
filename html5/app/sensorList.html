
<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="renderer" content="webkit|ie-comp|ie-stand">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<script src="../static/js/vue.min.js"></script>

<link rel="stylesheet" type="text/css" href="../static/h-ui/css/H-ui.min.css" />
<link rel="stylesheet" type="text/css" href="../static/h-ui.admin/css/H-ui.admin.css" />
<link rel="stylesheet" type="text/css" href="../lib/Hui-iconfont/1.0.8/iconfont.css" />
<link rel="stylesheet" type="text/css" href="../static/h-ui.admin/skin/default/skin.css" id="skin" />
<link rel="stylesheet" type="text/css" href="../static/h-ui.admin/css/style.css" />
<link rel="stylesheet" type="text/css" href="../static/plugin/myPagination.css" />


<style>
  td {
    padding:5px 5px 5px 0px;
  }
</style>

<title>传感器列表</title>
</head>
<body>

<div id="app" class="page-container" >

    <div class="mt-20" style="margin-top:-10px">
      <table class="table table-border  table-bg table-hover " >
        <thead>
          <tr class="text-c">
            <th  style="text-align:left" width="50px">编号</th>
            <th  style="text-align:left" width="150px">名称</th>
            <th style="text-align:left" >备注</th>
            <th width="80px">
              操作
              <a v-on:click="toAddMode()" title="新增传感器">
                <i class="Hui-iconfont" style="font-size:1em;">&#xe600;</i>
              </a>
              <a onclick="loadData()" title="刷新">
                <i class="Hui-iconfont" style="font-size:1em">&#xe68f;</i>
              </a>
            </th>
          </tr>
        </thead>
        <tbody id="table_rows">

          <tr class="text-c"  :style="'display:' +(isAddMode?'':'none')" >
            <td style="text-align:left">
              <input v-model="newItem.sensorNo" name="" type="text" placeholder="" class="input-text  size-S" style="width:50px;"  />
            </td>
            <td style="text-align:left">
              <input v-model="newItem.sensorName" name="" type="text" placeholder="" class="input-text  size-S" style="width:150px" />
            </td>
            <td style="text-align:left">
              <input v-model="newItem.memo" name="" type="text" placeholder="" class="input-text  size-S" style="width:150px" />
            </td>
            <td>
              <a title="确定" v-on:click="addSensor()">
                <i class="Hui-iconfont" style="font-size:1.5em;color:green">&#xe6a7;</i>
              </a>
              <a title="取消" v-on:click="cancelAddMode()">
                <i class="Hui-iconfont" style="font-size:1.5em;">&#xe6a6;</i>
              </a>

            </td>
          </tr>
          <template v-for="item in sensorList">

            <tr class="text-c">
            <td style="text-align:left">
                <div :style="'display:' + (item.isEdit?'block':'none')" >
                  <input v-model="item.sensorNo" name="" type="text" placeholder="" class="input-text  size-S" style="width:50px;"  />
                </div>
                <div :style="'display:' + (!item.isEdit?'block':'none')" >
                  {{item.sensorNo}}
                </div>
            </td>
            <td style="text-align:left">
              <div :style="'display:' + (item.isEdit?'block':'none')" >
                <input v-model="item.sensorName" name="" type="text" placeholder="" class="input-text  size-S" style="width:150px" />
              </div>
              <div :style="'display:' + (!item.isEdit?'block':'none')" >
                <a v-on:click="openCmdList(item.sensorId,item.sensorName)">{{item.sensorName}}</a>
              </div>
            </td>
            <td style="text-align:left">
              <div :style="'display:' + (item.isEdit?'block':'none')" >
                <input v-model="item.memo" name="" type="text" placeholder="" class="input-text  size-S" style="width:150px" />
              </div>
              <div :style="'display:' + (!item.isEdit?'block':'none')" >
                {{item.memo}}
              </div>
            </td>
            <td>
              <div :style="'display:' + (!item.isEdit?'block':'none')" >
                <a title="修改" v-on:click="toEditMode(item.sensorId)">
                  <i class="Hui-iconfont" style="font-size:1.5em;">&#xe6df;</i></a>
              </div>
              <div :style="'display:' + (item.isEdit?'block':'none')" >
                <a title="确定" v-on:click="updateSensor(item.sensorId)">
                  <i class="Hui-iconfont" style="font-size:1.5em;color:green">&#xe6a7;</i>
                </a>
                <a title="删除" v-on:click="deleteSensor(item.sensorId)">
                  <i class="Hui-iconfont" style="font-size:1.5em;color:red">&#xe6a1;</i>
                </a>
                <a title="取消" v-on:click="cancelEditMode(item.sensorId)">
                  <i class="Hui-iconfont" style="font-size:1.5em;">&#xe6a6;</i>
                </a>

              </div>
            </td>
            </tr>

          </template>
        </tbody>
      </table>
      <table>
        <tr>
          <td align="right" >
            <div id="pagination" class="pagination" :style="'display:'+ (pageOption.pageTotal<2?'none':'inline-block')" >
            </div>
          </td>
        </tr>
      </table>


      <!-- modal-cmdList start -->
      <div id="modal-cmdList" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
          <div class="modal-content radius">
            <div class="modal-header" style="height:20px;margin-top:-15px;">
                <h3 class="modal-title">指令列表 -
                  {{sensorInfoForCmdModal.sensorName}}
                </h3>
                <a class="close" data-dismiss="modal" aria-hidden="true" href="javascript:void();">×</a>
            </div>
            <div class="modal-body">
              <iframe :src="'cmdList.html?sensorId=' + sensorInfoForCmdModal.sensorId" width="100%" height="250px" frameborder="0" ></iframe>

            </div>
            <!-- <div class="modal-footer">
              <button class="btn" data-dismiss="modal" aria-hidden="true" >关闭</button>
            </div> -->
          </div>
        </div>
      </div>

      <!-- modal-cmdList end -->
    </div>
    <!-- app end -->



<script type="text/javascript" src="../lib/jquery/1.9.1/jquery.min.js"></script>
<script type="text/javascript" src="../static/h-ui/js/H-ui.min.js"></script>
<script type="text/javascript" src="../static/h-ui.admin/js/H-ui.admin.js"></script>
<script type="text/javascript" src="../lib/layer/2.4/layer.js"></script>
<script type="text/javascript" src="../static/plugin/myPagination.js?v=4"></script>


<script type="text/javascript" src="common/constant.js?v=6"></script>
<script type="text/javascript" src="common/common.js?v=8"></script>
<script type="text/javascript" src="sensorList.js?v=82"></script>

</body>
</html>
